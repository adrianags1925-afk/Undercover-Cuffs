<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shop ‚Äì Undercover Cuffs</title>
<style>
    :root {
        color-scheme: dark;
    }
    body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #000;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        color: #f4f4f4;
    }
    .lock-wrapper {
        text-align: center;
    }
    .lock-icon {
        width: 160px;
        max-width: 60vw;
    }
    .lock-text {
        margin-top: 24px;
        font-size: 1.25rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
    }
    
    @media only screen and (max-width: 768px) {
        .lock-icon {
            width: 120px;
            max-width: 50vw;
        }
        
        .lock-text {
            font-size: clamp(0.9rem, 3vw, 1.1rem);
            margin-top: 20px;
            padding: 0 20px;
        }
        
        body {
            padding: 20px;
        }
    }
    
    @media only screen and (max-width: 480px) {
        .lock-icon {
            width: 100px;
            max-width: 45vw;
        }
        
        .lock-text {
            font-size: clamp(0.8rem, 4vw, 1rem);
            margin-top: 15px;
            padding: 0 15px;
        }
        
        body {
            padding: 15px;
        }
    }
    
    /* Audio de fondo oculto */
    #background-audio {
        display: none;
    }
</style>
</head>
<body>
    <div class="lock-wrapper">
        <svg class="lock-icon" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="lockTitle lockDesc">
            <title id="lockTitle">Lock</title>
            <desc id="lockDesc">Lock indicating protected shop</desc>
            <path d="M32 10a12 12 0 0 1 12 12v8h-6v-8a6 6 0 0 0-12 0v8h-6v-8A12 12 0 0 1 32 10z" fill="#ffb500"/>
            <rect x="14" y="26" width="36" height="30" rx="6" fill="#ff7a00"/>
            <circle cx="32" cy="41" r="5" fill="#220003"/>
            <rect x="30" y="41" width="4" height="8" rx="2" fill="#220003"/>
        </svg>
        <p class="lock-text">Under Construction</p>
    </div>
    
    <!-- M√∫sica de fondo (sin controles visibles) -->
    <audio id="background-audio" loop preload="auto" style="display: none;">
        <!-- M√∫sica alegre pero tranquila libre de derechos de autor -->
        <!-- Pixabay - m√∫sica tranquila y alegre -->
        <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_73b40dc47e.mp3?filename=soft-background-music-112791.mp3" type="audio/mpeg">
        <!-- Fallback: Pixabay (m√∫sica tranquila alternativa) -->
        <source src="https://cdn.pixabay.com/download/audio/2023/05/11/audio_1683814731.mp3?filename=peaceful-morning-118490.mp3" type="audio/mpeg">
        <!-- Fallback adicional: SoundHelix -->
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
        Tu navegador no soporta el elemento de audio.
    </audio>
    
    <script>
        // Sistema de reproducci√≥n de m√∫sica de fondo - Optimizado para m√≥viles
        (function() {
            'use strict';
            
            const audio = document.getElementById('background-audio');
            if (!audio) {
                console.error('Elemento de audio no encontrado');
                return;
            }
            
            // Configurar volumen (30% para m√∫sica tranquila y suave)
            audio.volume = 0.3;
            let musicPlaying = false;
            let userInteracted = false;
            let interactionListenersSetup = false;
            
            // Detectar si es un dispositivo m√≥vil
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) || 
                            ('ontouchstart' in window) || 
                            (navigator.maxTouchPoints > 0);
            
            // Funci√≥n para reproducir m√∫sica
            function playMusic() {
                // Si ya est√° reproduci√©ndose, no hacer nada
                if (musicPlaying && !audio.paused && !audio.ended) {
                    return;
                }
                
                const playPromise = audio.play();
                
                if (playPromise !== undefined) {
                    playPromise
                        .then(function() {
                            musicPlaying = true;
                            console.log('‚úÖ M√∫sica reproduci√©ndose');
                        })
                        .catch(function(error) {
                            // Solo loguear si no hay interacci√≥n del usuario a√∫n
                            if (!userInteracted) {
                                console.log('‚ö†Ô∏è Autoplay bloqueado. La m√∫sica se reproducir√° al interactuar con la p√°gina.');
                            }
                        });
                }
            }
            
            // Funci√≥n para iniciar m√∫sica en interacci√≥n del usuario (optimizada para m√≥viles)
            function startMusicOnInteraction(e) {
                if (musicPlaying && !audio.paused) {
                    return;
                }
                
                // Marcar que el usuario ha interactuado
                if (!userInteracted) {
                    userInteracted = true;
                    
                    // En m√≥viles, forzar reproducci√≥n inmediatamente
                    if (isMobile) {
                        // Forzar que el audio no est√© en muted
                        audio.muted = false;
                        
                        // Intentar reproducir inmediatamente
                        playMusic();
                        
                        // M√∫ltiples intentos en m√≥viles para asegurar reproducci√≥n
                        setTimeout(function() {
                            if (!musicPlaying) {
                                audio.muted = false;
                                playMusic();
                            }
                        }, 50);
                        
                        setTimeout(function() {
                            if (!musicPlaying) {
                                audio.muted = false;
                                playMusic();
                            }
                        }, 100);
                        
                        setTimeout(function() {
                            if (!musicPlaying) {
                                audio.muted = false;
                                playMusic();
                            }
                        }, 200);
                        
                        setTimeout(function() {
                            if (!musicPlaying) {
                                audio.muted = false;
                                playMusic();
                            }
                        }, 500);
                    } else {
                        // En desktop, solo intentar una vez
                        playMusic();
                    }
                } else {
                    // Si ya hubo interacci√≥n, solo intentar reproducir si est√° pausado
                    if (audio.paused && !audio.ended) {
                        playMusic();
                    }
                }
            }
            
            // Lista ampliada de eventos de interacci√≥n (especialmente para m√≥viles)
            const interactionEvents = [
                // Eventos t√°ctiles (m√≥viles)
                'touchstart', 'touchend', 'touchmove', 'touchcancel',
                // Eventos de mouse
                'click', 'mousedown', 'mouseup', 'mousemove',
                // Eventos de teclado
                'keydown', 'keyup', 'keypress',
                // Eventos de puntero (compatibilidad moderna)
                'pointerdown', 'pointerup', 'pointermove', 'pointercancel',
                // Eventos de scroll
                'scroll', 'wheel', 'touchscroll',
                // Eventos de orientaci√≥n (m√≥viles)
                'orientationchange',
                // Eventos de visibilidad
                'visibilitychange'
            ];
            
            // Configurar listeners para interacci√≥n del usuario (sin 'once' para m√≥viles)
            function setupInteractionListeners() {
                if (interactionListenersSetup) return;
                interactionListenersSetup = true;
                
                // Configurar listeners en m√∫ltiples niveles para m√°xima compatibilidad
                const targets = [document, window];
                if (document.body) {
                    targets.push(document.body);
                }
                if (document.documentElement) {
                    targets.push(document.documentElement);
                }
                
                interactionEvents.forEach(function(eventType) {
                    targets.forEach(function(target) {
                        // En m√≥viles, no usar 'once' para asegurar que se capture la interacci√≥n
                        const options = isMobile ? { passive: true } : { once: true, passive: true };
                        target.addEventListener(eventType, startMusicOnInteraction, options);
                    });
                });
            }
            
            // Configurar listeners de interacci√≥n INMEDIATAMENTE
            setupInteractionListeners();
            
            // Tambi√©n configurar cuando el DOM est√© listo
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', setupInteractionListeners);
            }
            
            // Intentar reproducir cuando el audio est√© listo
            audio.addEventListener('canplay', function() {
                if (userInteracted || !isMobile) {
                    playMusic();
                }
            });
            
            audio.addEventListener('canplaythrough', function() {
                if (userInteracted || !isMobile) {
                    playMusic();
                }
            });
            
            audio.addEventListener('loadeddata', function() {
                if (userInteracted || !isMobile) {
                    setTimeout(playMusic, 200);
                }
            });
            
            audio.addEventListener('loadedmetadata', function() {
                // En m√≥viles, asegurar que los listeners est√©n configurados
                if (isMobile) {
                    setupInteractionListeners();
                }
            });
            
            // Intentar reproducir despu√©s de que la p√°gina cargue
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', function() {
                    setTimeout(function() {
                        if (userInteracted || !isMobile) {
                            playMusic();
                        }
                    }, 300);
                });
            } else {
                setTimeout(function() {
                    if (userInteracted || !isMobile) {
                        playMusic();
                    }
                }, 300);
            }
            
            // Intentar reproducir cuando la ventana cargue completamente
            window.addEventListener('load', function() {
                setTimeout(function() {
                    if (userInteracted || !isMobile) {
                        playMusic();
                    }
                }, 500);
            });
            
            // Manejar cuando el audio termine (reiniciar loop)
            audio.addEventListener('ended', function() {
                audio.currentTime = 0;
                if (musicPlaying || userInteracted) {
                    audio.play().catch(function() {});
                }
            });
            
            // Mantener la m√∫sica reproduci√©ndose si se pausa
            audio.addEventListener('pause', function() {
                if (userInteracted && !audio.ended) {
                    setTimeout(function() {
                        if (!audio.paused) return;
                        audio.play().catch(function() {});
                    }, 100);
                }
            });
            
            // Verificar peri√≥dicamente el estado de la m√∫sica (m√°s frecuente en m√≥viles)
            const checkInterval = isMobile ? 500 : 1000;
            setInterval(function() {
                if (userInteracted && audio.paused && !audio.ended) {
                    audio.play()
                        .then(function() {
                            musicPlaying = true;
                        })
                        .catch(function() {});
                }
                // Si la m√∫sica termin√≥, reiniciar
                if (musicPlaying && audio.ended) {
                    audio.currentTime = 0;
                    audio.play().catch(function() {});
                }
            }, checkInterval);
            
            // Intentar reproducir inmediatamente despu√©s de un peque√±o delay
            setTimeout(playMusic, 100);
            
            // Intentos adicionales despu√©s de diferentes delays
            [500, 1000, 2000, 3000].forEach(function(delay) {
                setTimeout(function() {
                    if (userInteracted || !isMobile) {
                        playMusic();
                    }
                }, delay);
            });
            
            // En m√≥viles, configurar listeners adicionales cuando la p√°gina est√© visible
            if (isMobile) {
                document.addEventListener('visibilitychange', function() {
                    if (!document.hidden && userInteracted) {
                        setTimeout(playMusic, 100);
                    }
                });
                
                // Configurar listeners cuando la orientaci√≥n cambie
                window.addEventListener('orientationchange', function() {
                    setTimeout(function() {
                        if (userInteracted) {
                            playMusic();
                        }
                    }, 300);
                });
            }
            
            // Verificar si el audio se carga correctamente
            audio.addEventListener('error', function(e) {
                console.error('‚ùå Error al cargar el audio:', e);
                console.log('URL del audio:', audio.src || 'No hay URL');
                if (audio.error) {
                    console.log('C√≥digo de error:', audio.error.code);
                    console.log('Mensaje de error:', audio.error.message);
                }
            });
            
            audio.addEventListener('loadedmetadata', function() {
                console.log('‚úÖ Metadata del audio cargada. Duraci√≥n:', audio.duration, 'segundos');
            });
            
            audio.addEventListener('loadeddata', function() {
                console.log('‚úÖ Datos del audio cargados');
            });
            
            audio.addEventListener('play', function() {
                console.log('‚ñ∂Ô∏è M√∫sica iniciada');
                musicPlaying = true;
            });
            
            audio.addEventListener('playing', function() {
                console.log('üéµ M√∫sica reproduci√©ndose');
                musicPlaying = true;
            });
            
            // Log para m√≥viles
            if (isMobile) {
                console.log('üì± Dispositivo m√≥vil detectado. La m√∫sica se activar√° al tocar la pantalla.');
            }
        })();
    </script>
</body>
</html>