<!doctype html>

<html lang="en" xml:lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>

<meta name="viewport" content="width=device-width, initial-scale=1.0">	
<meta charset="UTF-8">
	
<title>Video - UndercoverCuffs.HTML</title>
	
<link href="css/UndercoverCuffs.css" rel="stylesheet" type="text/css">
	
    <style>
        body {
            background-color: #000000;
            background-image: none;
        }
        
        .video-container {
            width: 100%;
            min-height: 100vh;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 20px;
            padding: 40px 20px;
            background-color: #000000;
        }
        
        .video-wrapper {
            flex: 1;
            min-width: 300px;
            max-width: 600px;
            position: relative;
        }
        
        .video-wrapper video {
            width: 100%;
            height: auto;
            display: block;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        header {
            background-color: rgba(0, 0, 0, 0.9);
            padding: 20px;
            margin-bottom: 0;
        }
        
        header h1 {
            margin: 10px;
        }
        
        .navmenu a {
            color: #ffffff;
        }
        
        footer {
            background-color: rgba(0, 0, 0, 0.9);
            color: #ffffff;
            margin-top: 0;
        }
        
        @media only screen and (max-width: 768px) {
            .video-container {
                padding: 20px 10px;
                gap: 15px;
            }
            
            .video-wrapper {
                min-width: 100%;
                max-width: 100%;
            }
            
            header {
                padding: 0 5px;
            }
            
            header h1 {
                font-size: clamp(1.2rem, 5vw, 2rem) !important;
                padding: 8px 15px;
                margin: 5px;
            }
            
            .navmenu {
                gap: 8px;
                flex-direction: column;
            }
            
            .navmenu li {
                width: 100%;
            }
            
            .navmenu a {
                display: block;
                padding: 8px 15px;
                font-size: clamp(0.85rem, 3vw, 1rem);
            }
            
            footer {
                margin-top: 30px;
                padding: 15px 0;
                font-size: clamp(1rem, 3vw, 1.6rem);
            }
        }
        
        @media only screen and (max-width: 480px) {
            .video-container {
                padding: 15px 5px;
                gap: 10px;
            }
            
            .video-wrapper {
                min-width: 100%;
                max-width: 100%;
            }
            
            header {
                padding: 0;
            }
            
            header h1 {
                font-size: clamp(1rem, 6vw, 1.5rem) !important;
                padding: 6px 10px;
                margin: 5px;
            }
            
            .navmenu {
                gap: 5px;
            }
            
            .navmenu a {
                padding: 6px 10px;
                font-size: clamp(0.75rem, 3.5vw, 0.9rem);
            }
            
            footer {
                padding: 12px 0;
                font-size: clamp(0.9rem, 3.5vw, 1.4rem);
            }
        }
        
        /* Audio de fondo oculto */
        #background-audio {
            display: none;
        }
    </style>
	
</head>

<body>

<!-- ESTA ES LA CABECERA CON EL MEN√ö -->

<header>   
    <h1>Undercover Cuffs</h1>

<nav>
    <ul class="navmenu">
        <li><a href="index.html">Home</a></li>
        <li><a href="characters.html">Characters</a></li>
        <li><a href="video.html">Video</a></li>
        <li><a href="shop.html">Shop</a></li>
        <li><a href="comments.html">Comments</a></li>
    </ul>
</nav>

</header>

<!-- CONTENEDOR DE VIDEOS -->
<div class="video-container">
    <div class="video-wrapper">
        <video loop autoplay muted playsinline>
            <source src="videos/IMG_0-2.MOV" type="video/mp4">
            Tu navegador no soporta el elemento de video.
        </video>
    </div>
    
    <!-- Puedes agregar m√°s videos aqu√≠ si los tienes -->
    <!--
    <div class="video-wrapper">
        <video loop autoplay muted playsinline>
            <source src="videos/otro-video.mp4" type="video/mp4">
            Tu navegador no soporta el elemento de video.
        </video>
    </div>
    -->
</div>

<!-- PIE DE P√ÅGINA -->
<footer>
    <a href="office.html" class="footer-hidden-link" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0; opacity: 0; cursor: pointer; text-decoration: none; z-index: 1; display: block;" aria-label="Office" title="Office"></a>
    <span style="position: relative; z-index: 0; pointer-events: none;">Undercover Cuffs</span>
</footer>

<!-- M√∫sica de fondo (sin controles visibles) -->
<audio id="background-audio" loop preload="auto" style="display: none;">
    <!-- M√∫sica alegre pero tranquila libre de derechos de autor -->
    <!-- Pixabay - m√∫sica tranquila y alegre -->
    <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_73b40dc47e.mp3?filename=soft-background-music-112791.mp3" type="audio/mpeg">
    <!-- Fallback: Pixabay (m√∫sica tranquila alternativa) -->
    <source src="https://cdn.pixabay.com/download/audio/2023/05/11/audio_1683814731.mp3?filename=peaceful-morning-118490.mp3" type="audio/mpeg">
    <!-- Fallback adicional: SoundHelix -->
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
    Tu navegador no soporta el elemento de audio.
</audio>

<script>
    // Sistema de reproducci√≥n de m√∫sica de fondo - Versi√≥n simplificada y robusta
    (function() {
        'use strict';
        
        const audio = document.getElementById('background-audio');
        if (!audio) {
            console.error('Elemento de audio no encontrado');
            return;
        }
        
        // Configurar volumen (30% para m√∫sica tranquila y suave)
        audio.volume = 0.3;
        let musicPlaying = false;
        let userInteracted = false;
        
        // Funci√≥n para reproducir m√∫sica
        function playMusic() {
            if (musicPlaying && !audio.paused) return;
            
            const playPromise = audio.play();
            
            if (playPromise !== undefined) {
                playPromise
                    .then(function() {
                        musicPlaying = true;
                        console.log('‚úÖ M√∫sica reproduci√©ndose');
                    })
                    .catch(function(error) {
                        console.log('‚ö†Ô∏è Autoplay bloqueado. La m√∫sica se reproducir√° al interactuar con la p√°gina.');
                    });
            }
        }
        
        // Funci√≥n para iniciar m√∫sica en interacci√≥n del usuario
        function startMusicOnInteraction() {
            if (musicPlaying) return;
            
            userInteracted = true;
            playMusic();
        }
        
        // Lista de eventos de interacci√≥n
        const interactionEvents = [
            'click', 'touchstart', 'mousedown', 'keydown',
            'scroll', 'wheel', 'mousemove', 'pointerdown', 'pointermove'
        ];
        
        // Configurar listeners para interacci√≥n del usuario
        function setupInteractionListeners() {
            interactionEvents.forEach(function(eventType) {
                document.addEventListener(eventType, startMusicOnInteraction, { once: true, passive: true });
                window.addEventListener(eventType, startMusicOnInteraction, { once: true, passive: true });
                if (document.body) {
                    document.body.addEventListener(eventType, startMusicOnInteraction, { once: true, passive: true });
                }
            });
        }
        
        // Intentar reproducir cuando el audio est√© listo
        audio.addEventListener('canplay', function() {
            playMusic();
        }, { once: true });
        
        audio.addEventListener('canplaythrough', function() {
            playMusic();
        }, { once: true });
        
        audio.addEventListener('loadeddata', function() {
            setTimeout(playMusic, 200);
        }, { once: true });
        
        // Configurar listeners de interacci√≥n inmediatamente
        setupInteractionListeners();
        
        // Intentar reproducir despu√©s de que la p√°gina cargue
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', function() {
                setTimeout(playMusic, 300);
            });
        } else {
            setTimeout(playMusic, 300);
        }
        
        // Intentar reproducir cuando la ventana cargue completamente
        window.addEventListener('load', function() {
            setTimeout(playMusic, 500);
        }, { once: true });
        
        // Manejar cuando el audio termine (reiniciar loop)
        audio.addEventListener('ended', function() {
            audio.currentTime = 0;
            if (musicPlaying || userInteracted) {
                audio.play().catch(function() {});
            }
        });
        
        // Mantener la m√∫sica reproduci√©ndose si se pausa
        audio.addEventListener('pause', function() {
            if (userInteracted && !audio.ended) {
                setTimeout(function() {
                    audio.play().catch(function() {});
                }, 100);
            }
        });
        
        // Verificar peri√≥dicamente el estado de la m√∫sica
        setInterval(function() {
            if (userInteracted && audio.paused && !audio.ended) {
                audio.play()
                    .then(function() {
                        musicPlaying = true;
                    })
                    .catch(function() {});
            }
            // Si la m√∫sica termin√≥, reiniciar
            if (musicPlaying && audio.ended) {
                audio.currentTime = 0;
                audio.play().catch(function() {});
            }
        }, 1000);
        
        // Intentar reproducir inmediatamente despu√©s de un peque√±o delay
        setTimeout(playMusic, 100);
        
        // Intentos adicionales despu√©s de diferentes delays
        [500, 1000, 2000].forEach(function(delay) {
            setTimeout(playMusic, delay);
        });
        
        // Verificar si el audio se carga correctamente
        audio.addEventListener('error', function(e) {
            console.error('‚ùå Error al cargar el audio:', e);
            console.log('URL del audio:', audio.src || 'No hay URL');
            if (audio.error) {
                console.log('C√≥digo de error:', audio.error.code);
                console.log('Mensaje de error:', audio.error.message);
            }
        });
        
        audio.addEventListener('loadedmetadata', function() {
            console.log('‚úÖ Metadata del audio cargada. Duraci√≥n:', audio.duration, 'segundos');
        });
        
        audio.addEventListener('loadeddata', function() {
            console.log('‚úÖ Datos del audio cargados');
        });
        
        audio.addEventListener('play', function() {
            console.log('‚ñ∂Ô∏è M√∫sica iniciada');
        });
        
        audio.addEventListener('playing', function() {
            console.log('üéµ M√∫sica reproduci√©ndose');
            musicPlaying = true;
        });
    })();
</script>

<script>
    // Asegurar que los videos se reproduzcan en loop
    document.addEventListener('DOMContentLoaded', function() {
        const videos = document.querySelectorAll('video');
        videos.forEach(video => {
            video.loop = true;
            video.autoplay = true;
            video.muted = true;
            video.playsInline = true;
            
            // Si el video se detiene, volver a reproducirlo
            video.addEventListener('ended', function() {
                this.currentTime = 0;
                this.play();
            });
            
            // Intentar reproducir el video
            video.play().catch(error => {
                console.log('Error al reproducir video:', error);
            });
        });
    });
</script>
	
</body>
</html>

